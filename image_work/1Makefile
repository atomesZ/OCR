CC = gcc
CFLAGS  = -Wall -Wextra -std=c99 -O3

LIBS = -lm

all: nn

nn:  nn.o network.o backprop.o
	$(CC) $(CFLAGS) -o nn nn.o network.o backprop.o $(LIBS)

nn.o:  nn.c network.h backprop.h
	$(CC) $(CFLAGS) -c nn.c

network.o:  network.c network.h 
	$(CC) $(CFLAGS) -c network.c

backprop.o:	backprop.c backprop.h
	$(CC) $(CFLAGS) -c backprop.c

clean: 
	$(RM) nn *.o *~


# Makefile
CC=gcc

CPPFLAGS= `pkg-config --cflags sdl` -MMD
CFLAGS=-Wall -Wextra -Werror -std=c99 -O3
LDFLAGS=
LDLIBS= `pkg-config --libs sdl` -lSDL_image
LIBS = -lm

all: main

main:	display.o rlsa.o interface.o network.o backprop.o network.o
	$(CC) $(CFLAGS) $(CPPFLAGS) -o main display.o rlsa.o interface.o network.o backprop.o network.o $(LIBS) $(LDLIBS)

display.o:  display.c pixel_operations.h interface.h display.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c display.c $(LDLIBS)

interface.o:  interface.c display.h interface.h rlsa.h network.h backprop.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c interface.c $(LDLIBS)

rlsa.o:  rlsa.c pixel_operations.h interface.h rlsa.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c rlsa.c $(LDLIBS)

network.o:  network.c network.h 
	$(CC) $(CFLAGS) -c network.c

backprop.o:	backprop.c backprop.h
	$(CC) $(CFLAGS) -c backprop.c

clean: 
	$(RM) main *.o *~

# END